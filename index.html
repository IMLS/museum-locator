<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Museum Locator</title>

    <!-- Bootstrap css -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

     <!-- CartoDB css -->
    <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.css" />

    <!-- Bootstrap css -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />

    <!-- DataTables css -->  
    <link rel="stylesheet" href="http://cdn.datatables.net/1.10.5/css/jquery.dataTables.min.css" />

    <!-- default custom css -->
    <link href="css/starter-template.css" rel="stylesheet">

    <style>
      html, body {width:100%; height:100%; padding: 10; margin: 0;}
      #cartodb-map { width: 80%; height:100%; background: black; margin-left: 20%;}
    </style>

    <!-- DataTables j-->  
    <script src="http://cdn.datatables.net/1.10.5/js/jquery.dataTables.min.js"></script>

    <!-- CartoDB js -->
    <script src="http://libs.cartocdn.com/cartodb.js/v3/cartodb.js"></script>

    <!-- Bootstrap js -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    <!-- jQuery js -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

    <!-- initialize datatable 
    <script class="init">
      $(document).ready(function() {
        $('#MyDataTable').DataTable();
      });
    </script>
    -->
    <!-- initialize cartodb map -->
    <script>
    var map;
    function init(){
      // initiate leaflet map
      map = new L.Map('cartodb-map', { 
        center: [40,-98],
        zoom: 4
      })

      L.tileLayer('https://dnv9my2eseobd.cloudfront.net/v3/cartodb.map-4xtxp73f/{z}/{x}/{y}.png', {
        attribution: 'Mapbox a< href="http://mapbox.com/about/maps" target="_blank">Terms &amp; Feedback</a>'
      }).addTo(map);

      var layerUrl = 'http://imls.cartodb.com/api/v2/viz/a46bb158-eccd-11e3-a0c1-0e10bcd91c2b/viz.json';

      // change the query for the first layer
      var subLayerOptions = {
        sql: "SELECT * FROM mudf14q3pub",
        cartocss: "#mudf14q3pub{marker-line-opacity: 1; marker-placement: point; marker-width: 10; marker-type: ellipse; marker-line-color: #FFF; marker-line-width: 1.5; marker-allow-overlap: false;} #mudf14q3pub[discipl='HSC'] {marker-fill:#A6CEE3;} #mudf14q3pub[discipl='GMU'] {marker-fill:#1F78B4;} #mudf14q3pub[discipl='HST'] {marker-fill:#B2DF8A;} #mudf14q3pub[discipl='ART'] {marker-fill:#33A02C;} #mudf14q3pub[discipl='BOT'] {marker-fill:#FB9A99;} #mudf14q3pub[discipl='ZAW'] {marker-fill:#E31A1C;} #mudf14q3pub[discipl='SCI'] {marker-fill:#FDBF6F;} #mudf14q3pub[discipl='CMU'] {marker-fill:#FF7F00;} #mudf14q3pub[discipl='NAT'] {marker-fill: #CAB2D6;}" 
      }
        }).on('error', function() {
          //log the error
      });
    }  
    </script>
  </head>

  <body onload="init()">
     <nav class="navbar navbar-inverse navbar-fixed-top" style="background: #ADD8E6">
      <div class="container" >
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#" style="color:white">Museum Locator</a>
        </div>
        <!--
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
          </ul>
        </div>/.nav-collapse -->
      </div>
    </nav>

    <div id="awrapper" style="width:100%; height:100%;">

      <div id="interface_container" style="width:20%; float:left; padding-left: 10px; padding-top: 10px">

             <div id="search_selector">
                <input type="text" value="Search.." onclick='Clear(this);'>
                <div id="search" class="btn btn-default">Go</div>
             </div>

             <div id="layer_selector" class="cartodb_infobox btn-group">
             <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">Select Museum Type
                 <span class="caret"></span>
             </a>
             <ul class="dropdown-menu" role="menu">
                 <li><a href="#" data="" class="selected">-- ALL -- </a></li>
                <li><a href="#" data="gmu">General Museums or Uncategorized</a></li>
                 <li><a href="#" data="art">Art Museums</a></li>
                  <li><a href="#" data="cmu">Children's Museums</a></li>
                 <li><a href="#" data="bot">Arboretums, Botanical Gardens, and Nature Centers</a></li>
                 <li><a href="#" data="zaw">Zoos, Aquariums, and Wildlife Conservation </a></li>
                 <li><a href="#" data="hst">History Museums </a></li>
                 <li><a href="#" data="nat">Natural History and Natural Science Museums</a></li>
                 <li><a href="#" data="hsc">Historical Societies/Historic Preservation</a></li>
                 <li><a href="#" data="sci">Science and Technology Museums</a></li>
             </ul>
          </div>
          <div>
            
          </div>
          <div id="about_blurb">
          <h3>About:</h3>
          <p>This data comes from the <a href="www.imls.gov">Institute of Museum and Library Services</a> <a href="http://www.imls.gov/research/museum_universe_data_file.aspx">Museum Universe Data File (MUDF)</a> which contains basic identifying information of known museums and related organizations in the United States.</p></div>

          <div id="download" class="btn btn-default">Download this data</div>
      </div>
      <div id='cartodb-map'></div>
      <!--
      <div id='datatable'>
          <table id="MyDataTable" class="display" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>Column 1</th>
                    <th>Column 2</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Row 1 Data 1</td>
                    <td>Row 1 Data 2</td>
                </tr>
                <tr>
                    <td>Row 2 Data 1</td>
                    <td>Row 2 Data 2</td>
                </tr>
            </tbody>
          </table>
      </div>
    </div>
    -->


<!--
    <div class="container">

      <div class="starter-template">
-->
    </div><!-- /.container -->
    </div>
          
  </body>
</html>