<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Museum Locator</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/starter-template.css" rel="stylesheet">

    <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v3/themes/css/cartodb.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />
  
    <script src="http://libs.cartocdn.com/cartodb.js/v3/cartodb.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

   <!-- jQuery (necessary for Bootstrap's JavaScript plugins)
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> -->
    <!-- Include all compiled plugins (below), or include individual files as needed 
    <script src="js/bootstrap.min.js"></script> -->

  <!--[if lte IE 8]>
    <link rel="stylesheet" href="http://libs.cartocdn.com/cartodb.js/v2/themes/css/cartodb.ie.css" />
  <![endif]-->
  <style>
    html, body {width:100%; height:100%; padding: 10; margin: 0;}
    #cartodb-map { width: 80%; height:100%; background: black; margin-left: 20%;}
  </style>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>s
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
    var map;
    function init(){
      // initiate leaflet map
      map = new L.Map('cartodb-map', { 
        center: [40,-98],
        zoom: 4
      })

      L.tileLayer('https://dnv9my2eseobd.cloudfront.net/v3/cartodb.map-4xtxp73f/{z}/{x}/{y}.png', {
        attribution: 'Mapbox <a href="http://mapbox.com/about/maps" target="_blank">Terms &amp; Feedback</a>'
      }).addTo(map);

      var layerUrl = 'http://imls.cartodb.com/api/v2/viz/a46bb158-eccd-11e3-a0c1-0e10bcd91c2b/viz.json';

      // change the query for the first layer
      var subLayerOptions = {
        sql: "SELECT * FROM mudf14q3pub",
        cartocss: "#mudf14q3pub{marker-fill-opacity: 0.9; marker-width: 10; marker-line-color: #FFF; marker-line-width: 1.5;}"
      }

      cartodb.createLayer(map, layerUrl)
        .addTo(map)
        .on('done', function(layer) {
          layer.getSubLayer(0).set(subLayerOptions);
        }).on('error', function() {
          //log the error
        });
    }  
  </script>
  </head>

  <body onload="init()">
     <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Museum Locator</a>
        </div>
        <!--
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
          </ul>
        </div>/.nav-collapse -->
      </div>
    </nav>

    <div id="awrapper" style="width:100%; height:100%;">

      <div id="interface_container" style="width:20%; float:left; padding-left: 10px; padding-top: 10px">

             <div id="search_selector">
                <input type="text" value="search" onclick="Clear(this);">
                <div id="search" class="btn btn-default">Search</div>
             </div>

             <div id="layer_selector" class="cartodb_infobox btn-group">
             <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">Select Museum Type
                 <span class="caret"></span>
             </a>
             <ul class="dropdown-menu" role="menu">
                 <li><a href="#" data="" class="selected">-- ALL -- </a></li>
                <li><a href="#" data="gmu">General Museums or Uncategorized</a></li>
                 <li><a href="#" data="art">Art Museums</a></li>
                  <li><a href="#" data="cmu">Children's Museums</a></li>
                 <li><a href="#" data="bot">Arboretums, Botanical Gardens, and Nature Centers</a></li>
                 <li><a href="#" data="zaw">Zoos, Aquariums, and Wildlife Conservation </a></li>
                 <li><a href="#" data="hst">History Museums </a></li>
                 <li><a href="#" data="nat">Natural History and Natural Science Museums</a></li>
                 <li><a href="#" data="hsc">Historical Societies/Historic Preservation</a></li>
                 <li><a href="#" data="sci">Science and Technology Museums</a></li>
             </ul>
          </div>
          <div>
            
          </div>
          <div id="about_blurb">
          <h3>About:</h3>
          <p>This data comes from the <a href="www.imls.gov">Institute of Museum and Library Services</a> <a href="http://www.imls.gov/research/museum_universe_data_file.aspx">Museum Universe Data File (MUDF)</a> which contains basic identifying information of known museums and related organizations in the United States.</p></div>

          <div id="download" class="btn btn-default">Download this data</div>
      </div>
      <div id='cartodb-map'></div>
    </div>

<!--
    <div class="container">

      <div class="starter-template">
-->
       
        

      </div>

    </div><!-- /.container -->
  </body>
</html>